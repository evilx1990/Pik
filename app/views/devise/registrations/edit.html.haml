=bootstrap_devise_error_messages!
#edit-user
  =form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f|
    -if current_user.avatar.url.present?
      =image_tag(current_user.avatar.thumb_avatar.url, class: 'mw-100 mt-2')
    -else
      =image_tag('app_images/user_default_avatar.png', class: 'mw-100 mt-2')
    %br
    =f.file_field :avatar, class: 'mt-2'
    =f.hidden_field :avatar_cache
    %br
    -if current_user.avatar.present?
      .mt-3
        =f.check_box :remove_avatar
        =f.label t('.remove_avatar'), style: 'color: white;'
    .form-group.mt-3
      =f.email_field :email,
                     placeholder: t('devise.forms.fields.email'),
                     autocompleate: 'off',
                     class: 'form-control form-style w-50 m-auto'
      .mt-1
      =f.text_field :username,
                    placeholder: t('devise.forms.fields.username'),
                    autocompleate: 'off',
                    class: 'form-control form-style w-50 m-auto'
    .form-group
      %small.form-text.text-dark
        =t('.leave_blank_if_you_don_t_want_to_change_it')
      =f.password_field :password,
                        placeholder: t('devise.forms.fields.new_password'),
                        autocompleate: 'off',
                        class: 'form-control form-style w-50 m-auto'
      .mt-1
      =f.password_field :password_confirmation,
                        placeholder: t('devise.forms.fields.confirm_password'),
                        autocompleate: 'off',
                        class: 'form-control  form-style mt-1 w-50 m-auto'
      .mt-1
      =f.password_field :current_password,
                        placeholder: t('devise.forms.fields.current_password'),
                        autocompleate: 'off',
                        class: 'form-control  form-style mt-1 w-50 m-auto'
    .form-group
      =f.submit t('.update'), class: 'btn btn-sm btn-warning mb-3', remote: true

    =link_to t('.remove_account'),
             registration_path(resource_name),
             data: { confirm: t('.are_you_sure') },
             method: :delete,
             class: 'text-danger'